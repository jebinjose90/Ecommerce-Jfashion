<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inria+Sans%3A700" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Bowlby+One+SC%3A400" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter%3A400%2C500%2C700%2C900" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro%3A400%2C500%2C700%2C900" />
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <title>
    <%= title %>
  </title>
</head>
<style>
  body {
    font-family: Arial, sans-serif;
  }

  .foot {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 100%;
    padding: 20px;
    background-color: #000000;
  }

  .com_name {
    font-size: 24px;
    font-weight: bold;
    font-family: Inria Sans, 'Source Sans Pro';
    color: #ffffff;
  }

  .all_rights {
    display: flex;
    justify-content: center;
    padding: 10px;
    color: white;
  }

  .custom-div2 {
    height: 400px;
    width: 100%;
    background-color: #6badeb;
    /* Light Blue Background Color */
    color: white;
    /* White Text Color */
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }

  .custom-div2 p {
    font-weight: bold;
    font-size: 3rem;
    font-family: Inria Sans, 'Source Sans Pro';
    line-height: 0.8;
    /* Adjust the font size as needed */
  }

  .custom-div2 p.small {
    font-size: 30px;
    font-weight: lighter;
    line-height: 0.8;
  }

  .custom-link {
    color: black;
  }

  .custom-link:hover {
    color: black;
  }

  .custom-input {
    border: none;
    outline: none;
    box-shadow: none;
    outline-width: 0;
  }

  .white-curved-div {
    background-color: white;
    height: 5.5rem;
    width: 40%;
    border-radius: 20px;
  }

  .dropdown-item:focus,
  .dropdown-item:hover {
    background-color: transparent;
    color: #000000;
    /* Change the color to your preferred text color */
  }

  .product-grid {
    font-family: 'Poppins', sans-serif;
  }

  .product-grid .product-image {
    overflow: hidden;
    position: relative;
    z-index: 1;
  }

  .product-grid .product-image a.image {
    display: block;
  }

  .product-grid .product-image img {
    width: 100%;
    height: auto;
  }

  .product-grid .product-image .img-1 {
    transition: all 0.3s ease 0s;
  }

  .product-grid:hover .product-image .img-1 {
    opacity: 0;
  }

  .product-grid .product-image .img-2 {
    width: 100%;
    height: 100%;
    opacity: 0;
    backface-visibility: hidden;
    position: absolute;
    left: 0;
    top: 0;
    z-index: -1;
    transition: all 0.3s ease 0s;
  }

  .product-grid:hover .product-image .img-2 {
    opacity: 1;
  }

  .product-grid .product-hot-label,
  .product-grid .product-discount-label {
    color: #fff;
    background: #ff6f00;
    font-size: 12px;
    font-weight: 600;
    text-transform: uppercase;
    padding: 3px 10px;
    position: absolute;
    top: 10px;
    left: 10px;
  }

  .product-grid .product-discount-label {
    background: #ff3939;
    left: auto;
    right: 10px;
  }

  .product-grid .product-view {
    color: #fff;
    background: #000;
    font-size: 16px;
    text-align: right;
    line-height: 50px;
    width: 60px;
    height: 60px;
    padding: 0 16px 0 0;
    border-radius: 50px;
    opacity: 0;
    transform: scale(0);
    position: absolute;
    bottom: -40px;
    left: -40px;
    transition: all .3s ease;
  }

  .product-grid:hover .product-view {
    opacity: 1;
    transform: scale(1);
    bottom: -20px;
    left: -20px;
  }

  .product-grid .product-view:hover {
    background: #ff6f00;
  }

  .product-grid .product-links {
    padding: 0;
    margin: 0;
    list-style: none;
    transform: translateY(50%);
    position: absolute;
    bottom: 50%;
    right: 10px;
    z-index: 1;
  }

  .product-grid .product-links li {
    margin: 5px 0;
    opacity: 0;
    transform: translateX(100%);
    transition: all .3s ease;
  }

  .product-grid .product-links li:nth-child(2) {
    transition-delay: .1s;
  }

  .product-grid .product-links li:nth-child(3) {
    transition-delay: .2s;
  }

  .product-grid:hover .product-links li {
    opacity: 1;
    transform: translateX(0);
  }

  .product-grid .product-links li a {
    color: #000;
    background: #fff;
    font-size: 18px;
    text-align: center;
    line-height: 33px;
    width: 35px;
    height: 35px;
    border: 1px solid #000;
    display: block;
    transition: all .3s ease;
  }

  .product-grid .product-links li a:hover {
    color: #fff;
    background: #ff6f00;
    border-color: #ff6f00;
  }

  .product-grid .product-content {
    background: #fff;
    padding: 15px 0 0;
  }

  .product-grid .rating {
    color: #f7bc3d;
    font-size: 11px;
    padding: 0;
    margin: 0 0 8px;
    list-style: none;
  }

  .product-grid .rating li {
    display: inline-block;
  }

  .product-grid .rating .disable {
    color: #a3a3a3;
  }

  .product-grid .title {
    font-size: 15px;
    font-weight: 500;
    text-transform: capitalize;
    margin: 0 0 8px;
  }

  .product-grid .title a {
    color: #333;
    transition: all 0.3s ease 0s;
  }

  .product-grid .title a:hover {
    color: #ff6f00;
  }

  .product-grid .price {
    color: #a3a3a3;
    font-size: 15px;
    font-weight: 500;
  }

  .product-grid .price span {
    color: #999;
    font-size: 14px;
    font-weight: 400;
    text-decoration: line-through;
    margin-right: 5px;
  }

  @media screen and (max-width: 990px) {
    .product-grid {
      margin-bottom: 30px;
    }
  }

  .pagination .page-item.active .page-link {
    background-color: #343a40;
    /* Dark color for selection */
    border-color: #343a40;
    /* Matching border color */
    color: #fff;
    /* Text color for active page */
  }

  .pagination .page-item .page-link {
    color: #343a40;
    /* Text color for other pages */
  }

  .image-container {
    display: flex;
    align-items: flex-start;
    /* Align items at the top */
  }
</style>
<style type="text/css">
  ul {
    float: left;
    list-style: none;
    margin: 0;
    padding: 0;
  }

  ul li {
    list-style-type: none;
    margin-bottom: 10px;
  }

  ul li img {
    width: 70px;
    height: 70px;
  }

  .big_img {
    width: 600px;
    height: 500px;
    float: left;
    margin-top: 20px;
    margin-left: 10px;
  }

  .parent-size-div {
    display: flex;
    justify-content: flex-start;
    /* Move the items to the right */
  }

  .size-chart {
    width: 40px;
    height: 40px;
    font-size: 1.1rem;
    font-weight: bold;
    color: #000000;
    font-family: 'Inria Sans', 'Source Sans Pro';
    display: flex;
    align-items: center;
    justify-content: center;
    border: solid 0.1rem #dddddd;
    border-radius: 50%;
    flex-shrink: 0;
    margin-right: 5px;
    /* Adjust the margin for spacing between size-chart elements */
  }

  .button-container {
    display: flex;
    margin-top: 10px;
  }

  .custom-button {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 10px;
    margin-right: 10px;
    /* Adjust the margin for spacing between buttons */
    border: none;
    /* Remove the button border */
    background-color: #f0f0f0;
    /* Add your desired background color */
    cursor: pointer;
    border-radius: 5px;

  }

  .custom-button:first-child {
    background-color: rgb(44, 44, 44);
    /* Set the background color for the first button */
    color: #ffffff;
  }

  .custom-button img {
    width: 20px;
    /* Set the desired width for the image */
    height: 20px;
    /* Set the desired height for the image */
    margin-right: 5px;
    /* Adjust the margin between image and text */
  }

  .star {
    width: 15px;
    height: 15px;
  }

  .rate {
    background-color: #eae55e;
    width: 20%;
  }
</style>
<%- include('include/nav_bar_main_style') %>

  <body>

    <%- include('include/nav_bar_main') %>

      <!-- Heading -->
      <div class="bg-dark mb-4">
        <div class="container-fluid py-4">
          <h3 class="text-white mt-2">
            <%= productDetail.category_id.sub_category%>
              <%= productDetail.category_id.category%>
          </h3>
          <!-- Breadcrumb -->
          <nav class="d-flex mb-2">
            <h6 class="mb-0">
              <a href="" class="text-white-50">
                <%= productDetail.category_id.brand%>
              </a>
              <span class="text-white-50 mx-2"> > </span>
              <a href="" class="text-white-50">
                <%= productDetail.category_id.sub_category%>
              </a>
              <span class="text-white-50 mx-2"> > </span>
              <a href="" class="text-white"><u>
                  <%= productDetail.category_id.category%>
                </u></a>
            </h6>
          </nav>
          <!-- Breadcrumb -->
        </div>
      </div>
      <hr class="my-4 mt-1" style="border-color: gray;">



      <div class="image-container ml-4">
        <ul>
          <% if(productDetail.image.length> 0) { %>
            <% productDetail.image.forEach(function(image, index) { %>
              <li><img src="<%= image %>" class="small_img"></li>
              <% }); %>
                <% } %>
        </ul>
        <img src="<%= productDetail.image[0] %>" class="big_img">
        <div class="desciption ml-4 w-100">
          <h3 class="brand_name">
            <%= productDetail.category_id.brand %>
          </h3>
          <p class="item_name">
            <%= productDetail.product_name %>
          </p>
          <input type="hidden" id="quantity" name="quantity" value="1">
          <!-- <div class="rate">
        <span>4.5</span>
        <img src="./img/star-14-ZhX.png" class="star" alt="Star">
        <span>|</span>
        <span class="total_rating">11 Ratings</span>
      </div> -->
          <div class="mrp mb-1">
            <span>MRP</span>
            <span class="currency_symbol">
              <%= currency %>
            </span>
            <span class="original_price">
              <%= productDetail.price %>
            </span>
          </div>

          <%  let discounted_price = 0
              let discount_percentege = 0
              let discount = 0
            if(itemCategoryOffer && itemProductOffer){
              discounted_price = itemCategoryOffer?.CategoryDiscountedPrice || 0;
              discount_percentege = itemCategoryOffer?.discount || 0;
              discount = itemCategoryOffer?.CategoryDiscount || 0;
            }else if(itemProductOffer){
              discounted_price = itemProductOffer?.ProductDiscountedPrice || 0;
              discount_percentege = itemProductOffer?.discount || 0;
              discount = itemProductOffer?.ProductDiscount || 0;
            }else if(itemCategoryOffer){
              discounted_price = itemCategoryOffer?.CategoryDiscountedPrice || 0;
              discount_percentege = itemCategoryOffer?.discount || 0;
              discount = itemCategoryOffer?.CategoryDiscount || 0;
            }
          %>

          <% if (itemCategoryOffer && itemProductOffer) { %>
            <div class="Category Discount mb-2">
              <span class="category_original_price text-danger">
                  <s><%= currency + productDetail.price %></s>
              </span>
                <span class="offer_percentage">Category Offer(<%= itemCategoryOffer.discount %>% OFF)</span>
                <div class="Category Discount">
                  <span class="discounted_price">
                    Discounted Price: <%= currency + itemCategoryOffer.CategoryDiscountedPrice %>
                </span>
                </div>
            </div>
        <% } else if (itemCategoryOffer) { %>
            <div class="Category Discount mb-2">
              <span class="category_original_price text-danger">
                  <s><%= currency + productDetail.price %></s>
              </span>
                <span class="offer_percentage">Category Offer(<%= itemCategoryOffer.discount %>% OFF)</span>
                <div class="Category Discount">
                  <span class="discounted_price">
                    Discounted Price: <%= currency + itemCategoryOffer.CategoryDiscountedPrice %>
                </span>
                </div>
            </div>
        <% } else if (itemProductOffer) { %>
          <div class="Product Discount mb-2">
              <span class="category_original_price text-danger">
                  <s><%= currency + productDetail.price %></s>
              </span>
              <span class="offer_percentage">Product Offer(<%= itemProductOffer.discount %>% OFF)</span>
              <div class="Product Discount">
                <span class="discounted_price">
                  Discounted Price: <%= currency + itemProductOffer.ProductDiscountedPrice %>
                </span>
              </div>
          </div>
      <% } %>

      

          <% if (!itemProductOffer && !itemCategoryOffer) { %>
            <span class="no_offer_discount">
              No offer for this Product
          </span>
            <% } %>

          <div>
            <span>inclusive of all taxes</span>
          </div>
          <div style="display: none;">
            <span>SIZE</span>
          </div>
          <div class="parent-size-div" style="display: none;">
            <div class="size-chart">S</div>
            <div class="size-chart">S</div>
            <div class="size-chart">M</div>
            <div class="size-chart">L</div>
            <div class="size-chart">XL</div>
          </div>

          <div class="button-container">
            <a
              href="/addToCart/<%= userDetails._id %>/<%= userDetails.username %>/<%= productDetail._id %>/<%= productDetail.product_name %>/<%= productDetail.price %>?quantity=1&discounted_price=<%= discounted_price %>&discount=<%= discount%>&discount_percentage=<%= discount_percentege %>">
              <button class="custom-button">
                <img src="/img/shopping-bag-1.png" alt="add_to_bag">
                ADD TO BAG
              </button>
            </a>
            <button class="custom-button">
              <img src="/img/love-1-yt1.png" alt="wishlist">
              WISHLIST
            </button>
            <% if (typeof errorMessage !=='undefined' && errorMessage !==null) { %>
              <div class="alert alert-danger text-center rounded-0 mt-1 mb-1 ms-2 me-2 fs-6" id="errorContainer">
                <%= errorMessage %>
              </div>
              <% } %>
                <% if (typeof addToCartMessage !=='undefined' && addToCartMessage !==null) { %>
                  <div class="alert alert-success text-center rounded-0 mt-1 mb-1 ms-2 me-2 fs-6" id="successContainer">
                    <%= addToCartMessage %>
                  </div>
                  <% } %>
          </div>
          <hr class="my-4 mt-1" style="border-color: gray; width: 95%; margin-left: 0;">
        </div>
      </div>
      <hr class="my-4 mt-1" style="border-color: gray;">
      <div class="container marketing mt-5">
        <div class="row">
          <div class="col-12 text-left mb-4">
            <h1 class="display-4 text-dark">YOUNG'S FAVOURITE</h1>
          </div>
        </div>
        <!-- Three columns of text below the carousel -->
        <div class="container marketing mt-5">
          <div class="row mx-auto">
            <div class="col-lg-6">
              <img class="company-icon-container" src="/img/sli1.png" alt="Generic placeholder image" width="480"
                height="330">
              <h2>Trending on instagram</h2>
              <p>Explore Now!</p>
              <p><a class="btn btn-secondary" href="#" role="button">View details »</a></p>
            </div><!-- /.col-lg-4 -->
            <div class="col-lg-6">
              <img class="company-icon-container" src="/img/sli2.png" alt="Generic placeholder image" width="480"
                height="330">
              <h2>All Under Rs 2000</h2>
              <p>Explore Now!</p>
              <p><a class="btn btn-secondary" href="#" role="button">View details »</a></p>
            </div><!-- /.col-lg-4 -->
          </div><!-- /.row -->
        </div><!-- /.container -->
      </div>

      <div class="custom-div2 d-flex">
        <div style="width:50%">
          <p style="font-weight: bold; text-align: center;">JOIN SHOPPING COMMUNITY TO GET MONTHLY PROMO</p>
        </div>
        <p class="small">Type our email down below and be young wild generation</p>
        <div class="white-curved-div d-flex justify-content-between align-items-center p-2">
          <input type="text" class="form-control custom-input" placeholder="Add your email here"
            style="width: 65%; font-size: 20px; margin-left: 4px;" />
          <button class="btn btn-dark"
            style="width: 30%; height: 90%; margin-right: 4px; font-size: 20px; border-radius: 15px;">SEND</button>
        </div>
      </div>

      <div class="foot d-flex">
        <div class="com_name mr-auto">JFASHION</div>

        <div class="all_rights mr-auto mt-4">
          <p>&copy; 2022 JFASHION. All rights reserved.</p>
        </div>
      </div>

      <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
      <script src="/js/zoomsl.js" type="text/javascript"></script>
      <script src="/js/zoomsl.min.js" type="text/javascript"></script>

      <script type="text/javascript">
        $(function () {
          $(".big_img").imagezoomsl({
            zoomrange: [3, 3]
          });
        });

        $(document).ready(function (argument) {
          $(".small_img").hover(function () {
            $(".big_img").attr('src', $(this).attr('src'))
          });
        });


        // Add JavaScript to hide the message container after 3 seconds
        setTimeout(function () {
          var messageContainer = document.getElementById("errorContainer");
          var messageSuccessContainer = document.getElementById("successContainer");
          if (messageContainer) {
            messageContainer.style.display = "none";
          }
          if (messageSuccessContainer) {
            messageSuccessContainer.style.display = "none";
          }
        }, 500); // 3000 milliseconds (3 seconds)



      </script>
      <%- include('include/nav_bar_main_script') %>
  </body>

</html>